{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":85,"index":164}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"],"imports":1}},{"name":"../lib/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":165},"end":{"line":3,"column":39,"index":204}}],"key":"9cvlccFJTW8BLJLwMLZsNsVtMJA=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":205},"end":{"line":4,"column":69,"index":274}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseAuth = require(_dependencyMap[1], \"firebase/auth\");\n  var _libFirebase = require(_dependencyMap[2], \"../lib/firebase\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    loading: true,\n    signOut: async () => {},\n    setMockUser: async () => {}\n  });\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n\n  // Mock user object for demo mode\n  const createMockUser = phone => ({\n    uid: `mock_${phone}`,\n    email: `user${phone}@sunolegal.com`,\n    phoneNumber: `+91${phone}`,\n    displayName: 'Demo User',\n    emailVerified: true,\n    isAnonymous: false,\n    metadata: {},\n    providerData: [],\n    refreshToken: 'mock_token',\n    tenantId: null,\n    delete: async () => {},\n    getIdToken: async () => 'mock_id_token',\n    getIdTokenResult: async () => ({\n      token: 'mock_token',\n      claims: {},\n      authTime: '',\n      issuedAtTime: '',\n      expirationTime: '',\n      signInProvider: 'phone'\n    }),\n    reload: async () => {},\n    toJSON: () => ({})\n  });\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // Check for mock user in AsyncStorage first\n      const checkMockUser = async () => {\n        try {\n          const mockPhone = await AsyncStorage.default.getItem('mockUserPhone');\n          if (mockPhone) {\n            setUser(createMockUser(mockPhone));\n            setLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.log('AsyncStorage error:', error);\n        }\n\n        // Fall back to Firebase auth state\n        const unsubscribe = (0, _firebaseAuth.onAuthStateChanged)(_libFirebase.auth, firebaseUser => {\n          setUser(firebaseUser);\n          setLoading(false);\n        });\n        return unsubscribe;\n      };\n      checkMockUser();\n    }, []);\n    const signOut = async () => {\n      try {\n        await AsyncStorage.default.removeItem('mockUserPhone');\n        await (0, _firebaseAuth.signOut)(_libFirebase.auth);\n        setUser(null);\n      } catch (error) {\n        console.error('Error signing out:', error);\n        throw error;\n      }\n    };\n    const setMockUser = async phone => {\n      try {\n        await AsyncStorage.default.setItem('mockUserPhone', phone);\n        setUser(createMockUser(phone));\n      } catch (error) {\n        console.error('Error setting mock user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signOut,\n        setMockUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":124,"map":[[13,2,20,0,"Object"],[13,8,20,0],[13,9,20,0,"defineProperty"],[13,23,20,0],[13,24,20,0,"exports"],[13,31,20,0],[14,4,20,0,"enumerable"],[14,14,20,0],[15,4,20,0,"get"],[15,7,20,0],[15,18,20,0,"get"],[15,19,20,0],[16,6,20,0],[16,13,20,0,"useAuth"],[16,20,20,0],[17,4,20,0],[18,2,20,0],[19,2,41,0,"Object"],[19,8,41,0],[19,9,41,0,"defineProperty"],[19,23,41,0],[19,24,41,0,"exports"],[19,31,41,0],[20,4,41,0,"enumerable"],[20,14,41,0],[21,4,41,0,"get"],[21,7,41,0],[21,18,41,0,"get"],[21,19,41,0],[22,6,41,0],[22,13,41,0,"AuthProvider"],[22,25,41,0],[23,4,41,0],[24,2,41,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_firebaseAuth"],[26,19,2,0],[26,22,2,0,"require"],[26,29,2,0],[26,30,2,0,"_dependencyMap"],[26,44,2,0],[27,2,3,0],[27,6,3,0,"_libFirebase"],[27,18,3,0],[27,21,3,0,"require"],[27,28,3,0],[27,29,3,0,"_dependencyMap"],[27,43,3,0],[28,2,4,0],[28,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,4,0],[28,45,4,0,"require"],[28,52,4,0],[28,53,4,0,"_dependencyMap"],[28,67,4,0],[29,2,4,0],[29,6,4,0,"AsyncStorage"],[29,18,4,0],[29,21,4,0,"_interopDefault"],[29,36,4,0],[29,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,4,0],[30,2,4,69],[30,6,4,69,"_reactJsxDevRuntime"],[30,25,4,69],[30,28,4,69,"require"],[30,35,4,69],[30,36,4,69,"_dependencyMap"],[30,50,4,69],[31,2,13,0],[31,8,13,6,"AuthContext"],[31,19,13,17],[31,35,13,20],[31,39,13,20,"createContext"],[31,45,13,33],[31,46,13,33,"createContext"],[31,59,13,33],[31,61,13,51],[32,4,14,2,"user"],[32,8,14,6],[32,10,14,8],[32,14,14,12],[33,4,15,2,"loading"],[33,11,15,9],[33,13,15,11],[33,17,15,15],[34,4,16,2,"signOut"],[34,11,16,9],[34,13,16,11],[34,19,16,11,"signOut"],[34,20,16,11],[34,25,16,23],[34,26,16,24],[34,27,16,25],[35,4,17,2,"setMockUser"],[35,15,17,13],[35,17,17,15],[35,23,17,15,"setMockUser"],[35,24,17,15],[35,29,17,27],[35,30,17,28],[36,2,18,0],[36,3,18,1],[36,4,18,2],[37,2,20,7],[37,8,20,13,"useAuth"],[37,15,20,20],[37,18,20,23,"useAuth"],[37,19,20,23],[37,24,20,29],[37,28,20,29,"useContext"],[37,34,20,39],[37,35,20,39,"useContext"],[37,45,20,39],[37,47,20,40,"AuthContext"],[37,58,20,51],[37,59,20,52],[39,2,22,0],[40,2,23,0],[40,8,23,6,"createMockUser"],[40,22,23,20],[40,25,23,24,"phone"],[40,30,23,37],[40,35,23,48],[41,4,24,2,"uid"],[41,7,24,5],[41,9,24,7],[41,17,24,15,"phone"],[41,22,24,20],[41,24,24,22],[42,4,25,2,"email"],[42,9,25,7],[42,11,25,9],[42,18,25,16,"phone"],[42,23,25,21],[42,39,25,37],[43,4,26,2,"phoneNumber"],[43,15,26,13],[43,17,26,15],[43,23,26,21,"phone"],[43,28,26,26],[43,30,26,28],[44,4,27,2,"displayName"],[44,15,27,13],[44,17,27,15],[44,28,27,26],[45,4,28,2,"emailVerified"],[45,17,28,15],[45,19,28,17],[45,23,28,21],[46,4,29,2,"isAnonymous"],[46,15,29,13],[46,17,29,15],[46,22,29,20],[47,4,30,2,"metadata"],[47,12,30,10],[47,14,30,12],[47,15,30,13],[47,16,30,14],[48,4,31,2,"providerData"],[48,16,31,14],[48,18,31,16],[48,20,31,18],[49,4,32,2,"refreshToken"],[49,16,32,14],[49,18,32,16],[49,30,32,28],[50,4,33,2,"tenantId"],[50,12,33,10],[50,14,33,12],[50,18,33,16],[51,4,34,2,"delete"],[51,10,34,8],[51,12,34,10],[51,18,34,10,"delete"],[51,19,34,10],[51,24,34,22],[51,25,34,23],[51,26,34,24],[52,4,35,2,"getIdToken"],[52,14,35,12],[52,16,35,14],[52,22,35,14,"getIdToken"],[52,23,35,14],[52,28,35,26],[52,43,35,41],[53,4,36,2,"getIdTokenResult"],[53,20,36,18],[53,22,36,20],[53,28,36,20,"getIdTokenResult"],[53,29,36,20],[53,35,36,33],[54,6,36,35,"token"],[54,11,36,40],[54,13,36,42],[54,25,36,54],[55,6,36,56,"claims"],[55,12,36,62],[55,14,36,64],[55,15,36,65],[55,16,36,66],[56,6,36,68,"authTime"],[56,14,36,76],[56,16,36,78],[56,18,36,80],[57,6,36,82,"issuedAtTime"],[57,18,36,94],[57,20,36,96],[57,22,36,98],[58,6,36,100,"expirationTime"],[58,20,36,114],[58,22,36,116],[58,24,36,118],[59,6,36,120,"signInProvider"],[59,20,36,134],[59,22,36,136],[60,4,36,144],[60,5,36,145],[60,6,36,146],[61,4,37,2,"reload"],[61,10,37,8],[61,12,37,10],[61,18,37,10,"reload"],[61,19,37,10],[61,24,37,22],[61,25,37,23],[61,26,37,24],[62,4,38,2,"toJSON"],[62,10,38,8],[62,12,38,10,"toJSON"],[62,13,38,10],[62,19,38,17],[62,20,38,18],[62,21,38,19],[63,2,39,0],[63,3,39,1],[63,4,39,2],[64,2,41,7],[64,8,41,13,"AuthProvider"],[64,20,41,66],[64,23,41,69,"AuthProvider"],[64,24,41,70],[65,4,41,72,"children"],[66,2,41,81],[66,3,41,82],[66,8,41,87],[67,4,42,2],[67,10,42,8],[67,11,42,9,"user"],[67,15,42,13],[67,17,42,15,"setUser"],[67,24,42,22],[67,25,42,23],[67,28,42,26],[67,32,42,26,"useState"],[67,38,42,34],[67,39,42,34,"useState"],[67,47,42,34],[67,49,42,48],[67,53,42,52],[67,54,42,53],[68,4,43,2],[68,10,43,8],[68,11,43,9,"loading"],[68,18,43,16],[68,20,43,18,"setLoading"],[68,30,43,28],[68,31,43,29],[68,34,43,32],[68,38,43,32,"useState"],[68,44,43,40],[68,45,43,40,"useState"],[68,53,43,40],[68,55,43,41],[68,59,43,45],[68,60,43,46],[69,4,45,2],[69,8,45,2,"useEffect"],[69,14,45,11],[69,15,45,11,"useEffect"],[69,24,45,11],[69,26,45,12],[69,32,45,18],[70,6,46,4],[71,6,47,4],[71,12,47,10,"checkMockUser"],[71,25,47,23],[71,28,47,26],[71,34,47,26,"checkMockUser"],[71,35,47,26],[71,40,47,38],[72,8,48,6],[72,12,48,10],[73,10,49,8],[73,16,49,14,"mockPhone"],[73,25,49,23],[73,28,49,26],[73,34,49,32,"AsyncStorage"],[73,46,49,44],[73,47,49,44,"default"],[73,54,49,44],[73,55,49,45,"getItem"],[73,62,49,52],[73,63,49,53],[73,78,49,68],[73,79,49,69],[74,10,50,8],[74,14,50,12,"mockPhone"],[74,23,50,21],[74,25,50,23],[75,12,51,10,"setUser"],[75,19,51,17],[75,20,51,18,"createMockUser"],[75,34,51,32],[75,35,51,33,"mockPhone"],[75,44,51,42],[75,45,51,43],[75,46,51,44],[76,12,52,10,"setLoading"],[76,22,52,20],[76,23,52,21],[76,28,52,26],[76,29,52,27],[77,12,53,10],[78,10,54,8],[79,8,55,6],[79,9,55,7],[79,10,55,8],[79,17,55,15,"error"],[79,22,55,20],[79,24,55,22],[80,10,56,8,"console"],[80,17,56,15],[80,18,56,16,"log"],[80,21,56,19],[80,22,56,20],[80,43,56,41],[80,45,56,43,"error"],[80,50,56,48],[80,51,56,49],[81,8,57,6],[83,8,59,6],[84,8,60,6],[84,14,60,12,"unsubscribe"],[84,25,60,23],[84,28,60,26],[84,32,60,26,"onAuthStateChanged"],[84,45,60,44],[84,46,60,44,"onAuthStateChanged"],[84,64,60,44],[84,66,60,45,"auth"],[84,78,60,49],[84,79,60,49,"auth"],[84,83,60,49],[84,85,60,52,"firebaseUser"],[84,97,60,64],[84,101,60,69],[85,10,61,8,"setUser"],[85,17,61,15],[85,18,61,16,"firebaseUser"],[85,30,61,28],[85,31,61,29],[86,10,62,8,"setLoading"],[86,20,62,18],[86,21,62,19],[86,26,62,24],[86,27,62,25],[87,8,63,6],[87,9,63,7],[87,10,63,8],[88,8,65,6],[88,15,65,13,"unsubscribe"],[88,26,65,24],[89,6,66,4],[89,7,66,5],[90,6,68,4,"checkMockUser"],[90,19,68,17],[90,20,68,18],[90,21,68,19],[91,4,69,2],[91,5,69,3],[91,7,69,5],[91,9,69,7],[91,10,69,8],[92,4,71,2],[92,10,71,8,"signOut"],[92,17,71,15],[92,20,71,18],[92,26,71,18,"signOut"],[92,27,71,18],[92,32,71,30],[93,6,72,4],[93,10,72,8],[94,8,73,6],[94,14,73,12,"AsyncStorage"],[94,26,73,24],[94,27,73,24,"default"],[94,34,73,24],[94,35,73,25,"removeItem"],[94,45,73,35],[94,46,73,36],[94,61,73,51],[94,62,73,52],[95,8,74,6],[95,14,74,12],[95,18,74,12,"firebaseSignOut"],[95,31,74,27],[95,32,74,27,"signOut"],[95,39,74,27],[95,41,74,28,"auth"],[95,53,74,32],[95,54,74,32,"auth"],[95,58,74,32],[95,59,74,33],[96,8,75,6,"setUser"],[96,15,75,13],[96,16,75,14],[96,20,75,18],[96,21,75,19],[97,6,76,4],[97,7,76,5],[97,8,76,6],[97,15,76,13,"error"],[97,20,76,18],[97,22,76,20],[98,8,77,6,"console"],[98,15,77,13],[98,16,77,14,"error"],[98,21,77,19],[98,22,77,20],[98,42,77,40],[98,44,77,42,"error"],[98,49,77,47],[98,50,77,48],[99,8,78,6],[99,14,78,12,"error"],[99,19,78,17],[100,6,79,4],[101,4,80,2],[101,5,80,3],[102,4,82,2],[102,10,82,8,"setMockUser"],[102,21,82,19],[102,24,82,22],[102,30,82,29,"phone"],[102,35,82,42],[102,39,82,47],[103,6,83,4],[103,10,83,8],[104,8,84,6],[104,14,84,12,"AsyncStorage"],[104,26,84,24],[104,27,84,24,"default"],[104,34,84,24],[104,35,84,25,"setItem"],[104,42,84,32],[104,43,84,33],[104,58,84,48],[104,60,84,50,"phone"],[104,65,84,55],[104,66,84,56],[105,8,85,6,"setUser"],[105,15,85,13],[105,16,85,14,"createMockUser"],[105,30,85,28],[105,31,85,29,"phone"],[105,36,85,34],[105,37,85,35],[105,38,85,36],[106,6,86,4],[106,7,86,5],[106,8,86,6],[106,15,86,13,"error"],[106,20,86,18],[106,22,86,20],[107,8,87,6,"console"],[107,15,87,13],[107,16,87,14,"error"],[107,21,87,19],[107,22,87,20],[107,48,87,46],[107,50,87,48,"error"],[107,55,87,53],[107,56,87,54],[108,6,88,4],[109,4,89,2],[109,5,89,3],[110,4,91,2],[110,24,92,4],[110,28,92,4,"_reactJsxDevRuntime"],[110,47,92,4],[110,48,92,4,"jsxDEV"],[110,54,92,4],[110,56,92,5,"AuthContext"],[110,67,92,16],[110,68,92,17,"Provider"],[110,76,92,25],[111,6,92,26,"value"],[111,11,92,31],[111,13,92,33],[112,8,92,35,"user"],[112,12,92,39],[113,8,92,41,"loading"],[113,15,92,48],[114,8,92,50,"signOut"],[114,15,92,57],[115,8,92,59,"setMockUser"],[116,6,92,71],[116,7,92,73],[117,6,92,73,"children"],[117,14,92,73],[117,16,93,7,"children"],[118,4,93,15],[119,6,93,15,"fileName"],[119,14,93,15],[119,16,93,15,"_jsxFileName"],[119,28,93,15],[120,6,93,15,"lineNumber"],[120,16,93,15],[121,6,93,15,"columnNumber"],[121,18,93,15],[122,4,93,15],[122,11,94,26],[122,12,94,27],[123,2,96,0],[123,3,96,1],[124,0,96,2],[124,3]],"functionMap":{"names":["<global>","createContext$argument_0.signOut","createContext$argument_0.setMockUser","useAuth","createMockUser","_delete","getIdToken","getIdTokenResult","reload","toJSON","AuthProvider","useEffect$argument_0","checkMockUser","onAuthStateChanged$argument_1","signOut","setMockUser"],"mappings":"AAA;WCe,cD;eEC,cF;uBGG,6BH;uBIG;UCW,cD;cEC,2BF;oBGC,8HH;UIC,cJ;UKC,UL;EJC;qEUE;YCI;0BCE;mDCa;ODG;KDG;GDG;kBIE;GJS;sBKE;GLO;CVO"},"hasCjsExports":false},"type":"js/module"}]}